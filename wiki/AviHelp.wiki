#summary How to record AVIs with PCSX-rr and kkapture .

Although PCSX-rr itself is able to dump video, it lacks the functionality to sync audio with video, being only able to record audio in real-time with the right plugin. kkapture is able to record both audio and video, keeping them in sync.

== Step 1: Configure PCSX. ==

First, go to "Configuration"->"Options" and make sure "Pause After Playback" is unchecked and then press "OK". This is important.

Now go to "Configuration"->"Graphics" and configure the GPU plugin as follows. Note the red boxes carefully.

*This configuration is only for dumping AVI! Use whatever configuration is suitable for playing the game or making TASes.*

http://i19.photobucket.com/albums/b185/jhchan8/pcsx/gpu.png




== Step 2: Using .kkapture. ==

Download [http://www.farbrausch.de/~fg/kkapture/ .kkapture] and run it.

Select your "pcsx.exe" executable for the demo field using "Browse..." . Then configure kkapture as follows. Note the red boxes carefully.

http://i19.photobucket.com/albums/b185/jhchan8/pcsx/kkapture.png


  # In the "Demo" field click on "Browse..." and select your "pcsx.exe" file.
  # In the "Arguments" field you can write something like "-play movies/example.pxm" if you want PCSX to load automatically a movie at start.
  # In the "Encoder" field select ".AVI (VfW, segmented)"
  # Pick any codec you like and configure it.
  # Make sure both "Capture Video" and "Capture Audio" boxes are checked.
  # You can leave everything else as you like; I haven't found any difference with those options enabled/disabled.
  # You should end with something like this:

Press kkapture! and wait until your movie is over. Then press the "Escape" key on PCSX and close it to finalize your .avi file.

== Notes ==
  * The "Encoder" setting ".AVI (VfW, segmented)" has a 2GB segment limit. You'll need to combine the files afterwards.
  * If for any strange reason PCSX doesn't correctly shut down at the end while capturing it, the video will most likely be broken. So, try pressing CTRL-BREAK at the end and .kkapture should terminate then and close the avi file properly.